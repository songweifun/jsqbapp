{"version":3,"sources":["/Users/daivd/www/front/jsqbtest4/src/app/layout/orders/all-transmit/all-transmit.component.html","/Users/daivd/www/front/jsqbtest4/src/app/layout/orders/all-transmit/all-transmit.component.scss","/Users/daivd/www/front/jsqbtest4/src/app/layout/orders/all-transmit/all-transmit.component.ts","/Users/daivd/www/front/jsqbtest4/src/app/layout/orders/my-transmit/my-transmit.component.html","/Users/daivd/www/front/jsqbtest4/src/app/layout/orders/my-transmit/my-transmit.component.scss","/Users/daivd/www/front/jsqbtest4/src/app/layout/orders/my-transmit/my-transmit.component.ts","/Users/daivd/www/front/jsqbtest4/src/app/layout/orders/new-apply/new-apply.component.html","/Users/daivd/www/front/jsqbtest4/src/app/layout/orders/new-apply/new-apply.component.scss","/Users/daivd/www/front/jsqbtest4/src/app/layout/orders/new-apply/new-apply.component.ts","/Users/daivd/www/front/jsqbtest4/src/app/layout/orders/orders-routing.module.ts","/Users/daivd/www/front/jsqbtest4/src/app/layout/orders/orders.module.ts"],"names":[],"mappings":"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","file":"6.chunk.js","sourcesContent":["module.exports = \"<div [@routerTransition]>\\n    <app-order-list [orders]=\\\"orders\\\" [isTransmited]=\\\"isTransmited\\\"></app-order-list>\\n    <app-http-pagination [url]=\\\"url\\\" [pageList]=\\\"pageList\\\" [method]=\\\"'get'\\\" (onDataChanged)=\\\"onDataChanged($event)\\\"></app-http-pagination>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/daivd/www/front/jsqbtest4/src/app/layout/orders/all-transmit/all-transmit.component.html\n// module id = ../../../../../src/app/layout/orders/all-transmit/all-transmit.component.html\n// module chunks = 6","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/daivd/www/front/jsqbtest4/src/app/layout/orders/all-transmit/all-transmit.component.scss\n// module id = ../../../../../src/app/layout/orders/all-transmit/all-transmit.component.scss\n// module chunks = 6","import { Component, OnInit } from '@angular/core';\nimport {routerTransition} from \"../../../router.animations\";\nimport {Order} from \"../orders.component\";\nimport {ApiUrlService} from \"../../../shared/services/api-url.service\";\n\n@Component({\n  selector: 'app-all-transmit',\n  templateUrl: './all-transmit.component.html',\n  styleUrls: ['./all-transmit.component.scss'],\n    animations: [routerTransition()]\n})\nexport class AllTransmitComponent implements OnInit {\n//http://localhost/after/jsqb/jsqbapi/public/api/v1/order/paginate\n\n    orders:Array<Order>;\n    url:string;\n    pageList:Array<number>= [10,15, 25, 35];\n\n    isTransmited:boolean=true;\n  constructor(\n      private apiUrlService:ApiUrlService\n  ) {\n        this.url=this.apiUrlService.allTransmitesUrl\n\n  }\n\n  ngOnInit() {\n  }\n\n    onDataChanged(event){\n        console.log(event)\n        this.orders=event.rows\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/daivd/www/front/jsqbtest4/src/app/layout/orders/all-transmit/all-transmit.component.ts","module.exports = \"<div [@routerTransition]>\\n    <app-order-list [orders]=\\\"orders\\\" [isTransmited]=\\\"isTransmited\\\"></app-order-list>\\n    <app-http-pagination [url]=\\\"url\\\" [method]=\\\"'get'\\\" [param]=\\\"param\\\" [pageList]=\\\"pageList\\\" (onDataChanged)=\\\"onDataChanged($event)\\\" ></app-http-pagination>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/daivd/www/front/jsqbtest4/src/app/layout/orders/my-transmit/my-transmit.component.html\n// module id = ../../../../../src/app/layout/orders/my-transmit/my-transmit.component.html\n// module chunks = 6","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/daivd/www/front/jsqbtest4/src/app/layout/orders/my-transmit/my-transmit.component.scss\n// module id = ../../../../../src/app/layout/orders/my-transmit/my-transmit.component.scss\n// module chunks = 6","import { Component, OnInit } from '@angular/core';\nimport {OrderService} from \"../../../shared/services/order/order.service\";\nimport {Order} from \"../orders.component\";\nimport {routerTransition} from \"../../../router.animations\";\nimport {ApiUrlService} from \"../../../shared/services/api-url.service\";\n\n@Component({\n  selector: 'app-my-transmit',\n  templateUrl: './my-transmit.component.html',\n  styleUrls: ['./my-transmit.component.scss'],\n    animations: [routerTransition()]\n\n})\nexport class MyTransmitComponent implements OnInit {\n    orders:Array<Order>;\n    url:string;\n    param:any = {\n        token: localStorage.getItem('token')\n    }\n\n    pageList:Array<number>= [10,15, 25, 35];\n\n    isTransmited:boolean=true;\n\n  constructor(\n      private orderService:OrderService,\n      private apiUrlService:ApiUrlService\n  ) {\n        this.url=this.apiUrlService.getMyTransmitesUrl\n  }\n\n  ngOnInit() {\n        this.orderService.getMyTransmites().subscribe(\n            data=>this.orders=data.rows\n        )\n  }\n\n    onDataChanged(event){\n        console.log(event)\n        this.orders=event.rows\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/daivd/www/front/jsqbtest4/src/app/layout/orders/my-transmit/my-transmit.component.ts","module.exports = \"<div [@routerTransition] >\\n    <app-order-list [orders]=\\\"orders\\\" [hidden]=\\\"listHide\\\"></app-order-list>\\n\\n    <button [hidden]=\\\"btnHide\\\" class=\\\"btn btn-success btn-lg btn-block\\\" (click)=\\\"ordersStart()\\\">{{ordersStartText}}</button>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/daivd/www/front/jsqbtest4/src/app/layout/orders/new-apply/new-apply.component.html\n// module id = ../../../../../src/app/layout/orders/new-apply/new-apply.component.html\n// module chunks = 6","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/daivd/www/front/jsqbtest4/src/app/layout/orders/new-apply/new-apply.component.scss\n// module id = ../../../../../src/app/layout/orders/new-apply/new-apply.component.scss\n// module chunks = 6","import {Component, OnInit, SimpleChanges, OnChanges, Output, EventEmitter} from '@angular/core';\nimport {Subscription, Observable} from \"rxjs\";\nimport {WebSocketService} from \"../../../shared/services/web-socket.service\";\nimport {SendArticleService} from \"../../../shared/services/send-article.service\";\nimport {TokenService} from \"../../../shared/services/token.service\";\nimport {Order} from \"../orders.component\";\nimport {routerTransition} from \"../../../router.animations\";\nimport {AppService} from \"../../../app.service\";\n\n@Component({\n  selector: 'app-new-apply',\n  templateUrl: './new-apply.component.html',\n  styleUrls: ['./new-apply.component.scss'],\n    animations: [routerTransition()]\n})\nexport class NewApplyComponent implements OnInit,OnChanges {\n\n    subscrption:Subscription;//保存当前的一个订阅 是订阅方法的返回值\n    orders:Array<Order>;\n    //token:string;\n\n   // @Output() newOrderCount:Observable<number>=new EventEmitter();\n\n    listHide:boolean=true;\n    ordersStartText:string=\"开始抢单\";\n\n    constructor(\n        private wsService:WebSocketService,\n        private sendArticleService:SendArticleService,\n        private tokenService:TokenService,\n        public appService:AppService\n    ) { }\n\n\n    ngOnChanges(changes: SimpleChanges): void {\n        this.tokenService.refreshToken();//刷新token\n        // if(this.orders.length<=0){\n        //     this.listHide=true;\n        //     this.ordersStartText=\"没有订单\";\n        // }\n\n    }\n\n\n\n    ngOnInit() {\n\n\n\n    }\n\n    sendArticle(orderId){\n        this.sendArticleService.sendArticle(orderId)\n\n    }\n\n    ordersStart(){\n\n        if(this.subscrption){\n            this.subscrption.unsubscribe();//取消订阅\n            this.subscrption=null;\n            this.listHide=true;\n            this.ordersStartText=\"开始抢单\";\n            this.appService.newOrderCountEventEmitter.emit(0);//新订单数量\n        }else{\n            //this.tokenService.refreshToken()\n\n\n\n            //点击按钮调用服务的方法创建连接 此方法返回一个可观测的流 这里就可以订阅这个流了 并携带一个参数id\n            let token=localStorage.getItem('uid')?localStorage.getItem('uid'):'';\n            this.subscrption=this.wsService.createObservableSocket('ws://101.201.122.94:8085',token)\n                .subscribe(\n                    //服务器吐送过来的消息\n                    //收到的是这个客户端关注的所有商品的一个报价\n                    products=>{\n                        //console.log(products)\n                        this.orders=(JSON.parse(products));\n                        this.appService.newOrderCountEventEmitter.emit(this.orders.length)\n                        this.listHide=false;\n                        this.ordersStartText=\"停止抢单\";\n                    }\n\n                );\n        }\n\n    }\n\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// /Users/daivd/www/front/jsqbtest4/src/app/layout/orders/new-apply/new-apply.component.ts","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { OrdersComponent } from './orders.component';\nimport {MyTransmitComponent} from \"./my-transmit/my-transmit.component\";\nimport {NewApplyComponent} from \"./new-apply/new-apply.component\";\nimport {AllTransmitComponent} from \"./all-transmit/all-transmit.component\";\nimport {LeaveOrderNewGuard} from \"../../guard/leaveOrderNew.guard\";\n\nconst routes: Routes = [\n    {\n        path: '',\n        component: OrdersComponent,\n        children: [\n            {\n                path: 'my-transmit',\n                component: MyTransmitComponent\n            },\n            {\n                path: 'new-apply',\n                component: NewApplyComponent,\n                canDeactivate:[LeaveOrderNewGuard]\n            },\n            {\n                path: 'all-transmit',\n                component: AllTransmitComponent\n            }\n\n        ]\n    }\n]\n@NgModule({\n    imports: [RouterModule.forChild(routes)],\n    exports: [RouterModule]\n})\nexport class OrdersRoutingModule { }\n\n\n\n// WEBPACK FOOTER //\n// /Users/daivd/www/front/jsqbtest4/src/app/layout/orders/orders-routing.module.ts","import { NgModule } from '@angular/core';\n\nimport { OrdersRoutingModule } from './orders-routing.module';\nimport { OrdersComponent } from './orders.component';\nimport {NgbModule} from \"@ng-bootstrap/ng-bootstrap\";\nimport { MyTransmitComponent } from './my-transmit/my-transmit.component';\nimport { NewApplyComponent } from './new-apply/new-apply.component';\nimport { AllTransmitComponent } from './all-transmit/all-transmit.component';\nimport {SharedModule} from \"../../shared/shared.module\";\n\n@NgModule({\n    imports: [\n        OrdersRoutingModule,\n        NgbModule.forRoot(),\n        SharedModule\n    ],\n    declarations: [\n        OrdersComponent,\n          MyTransmitComponent,\n         NewApplyComponent,\n         AllTransmitComponent\n    ]\n})\nexport class OrdersModule { }\n\n\n\n// WEBPACK FOOTER //\n// /Users/daivd/www/front/jsqbtest4/src/app/layout/orders/orders.module.ts"],"sourceRoot":"webpack:///"}